<div class="col-12">
  <div class="card">
    <h3>Gestion des documents</h3>
    <p-toolbar styleClass="mb-4">
      <ng-template pTemplate="left">
        <div class="my-2">
          <button pButton pRipple label="Ajouter un module" icon="pi pi-plus" class="p-button-success mr-2" (click)="ajouterModule()"></button>
        </div>
      </ng-template>
    </p-toolbar>

    <div class="grid p-fluid">
      <div class="col-12">
        <div class="card">
          <p-table
  #dt2
  [value]="listeModule"
  dataKey="id"
  [rows]="10"
  [rowsPerPageOptions]="[10, 25, 50]"
  [paginator]="true"
  [tableStyle]="{ 'min-width': '75rem' }"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Nom du module</th>
      <th>Documents</th>
      <th>Modifier</th>
      <th>Supprimer</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-module>
    <tr>
      <td>{{ module.moduleName }}</td>
      <td>
        <button pButton icon="pi pi-eye" class="p-button-rounded p-button-info" (click)="showDocuments(module)"></button>
      </td>
      <td>
        <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-info" (click)="modifierModule(module.id)"></button>
      </td>
      <td>
        <button pButton icon="pi pi-trash" class="p-button-rounded p-button-danger" (click)="supprimerModule(module.id)"></button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">No module found.</td>
    </tr>
  </ng-template>
</p-table>

        </div>
      </div>
    </div>
  </div>
</div>
<p-dialog header="Liste des documents" [(visible)]="visibleDetails" [style]="{width: '50vw'}">
  <p-table [value]="selectedModuleDocuments" dataKey="id">
    <ng-template pTemplate="header">
      <tr>
        <th>Nom du document</th>
        <th>Télécharger</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-document>
      <tr>
        <td>{{ document.documentName }}</td>
        <td>
          <button pButton icon="pi pi-eye" class="p-button-rounded p-button-info" (click)="onDownloadDocument(document.id)"></button>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="2">Aucun document trouvé.</td>
      </tr>
    </ng-template>
  </p-table>
</p-dialog>